<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Tester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">API Tester</div>
        <div>
            <button id="save-btn" class="secondary-button">Save</button>
            <button id="import-btn" class="secondary-button">Import</button>
            <button id="new-collection-btn" class="secondary-button">New Collection</button>
        </div>
    </header>
    
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>Collections</h3>
                <button id="clear-history-btn" class="secondary-button">Clear History</button>
            </div>
            <div id="collections-list"></div>
            <div id="history-list"></div>
        </div>
        
        <div class="main-content">
            <div class="request-section">
                <div class="request-controls">
                    <select id="method-select">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="PATCH">PATCH</option>
                    </select>
                    <input type="text" id="url-input" class="url-input" placeholder="https://api.example.com/resource">
                    <button id="send-btn">Send</button>
                    <button id="params-btn" class="secondary-button">Params</button>
                </div>
                
                <div class="tab-container">
                    <div class="tab active" data-tab="headers">Headers</div>
                    <div class="tab" data-tab="body">Body</div>
                    <div class="tab" data-tab="auth">Auth</div>
                    <div class="tab" data-tab="params">Query Params</div>
                    <!-- <div class="tab" data-tab="flow">API Flow</div> -->
                </div>
                
                <div class="tab-content active" id="headers-tab">
                    <table class="headers-table">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Value</th>
                                <th>Description</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="headers-table-body"></tbody>
                    </table>
                    <button id="add-header" class="add-row secondary-button">Add Header</button>
                </div>
                
                <div class="tab-content" id="body-tab">
                    <textarea id="request-body" placeholder='{"key": "value"}'></textarea>
                </div>
                
                <div class="tab-content" id="auth-tab">
                    <select id="auth-type">
                        <option value="none">No Auth</option>
                        <option value="basic">Basic Auth</option>
                        <option value="bearer">Bearer Token</option>
                        <option value="api-key">API Key</option>
                    </select>
                    <div id="auth-fields"></div>
                </div>
                
                <div class="tab-content" id="params-tab">
                    <table class="params-table">
                        <thead>
                            <tr>
                                <th>Key</th>
                                <th>Value</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="params-table-body"></tbody>
                    </table>
                    <button id="add-param" class="add-row secondary-button">Add Parameter</button>
                </div>
                
                <div class="tab-content" id="flow-tab">
                    <div class="flow-controls">
                        <button id="add-flow-node" class="secondary-button">Add Request Node</button>
                        <button id="run-flow" class="secondary-button">Run Flow</button>
                    </div>
                    <canvas id="flow-canvas" width="800" height="400"></canvas>
                </div>
            </div>
            
            <div class="response-section">
                <div class="response-status" id="response-status">
                    Status: Not sent yet
                    <select id="response-format">
                        <option value="json">JSON</option>
                        <option value="text">Text</option>
                        <option value="raw">Raw</option>
                    </select>
                </div>
                <div id="response-time-chart"></div>
                
                <div class="response-tabs">
                    <div class="response-tab active" data-response-tab="body">Body</div>
                    <div class="response-tab" data-response-tab="headers">Headers</div>
                    <div class="response-tab" data-response-tab="cookies">Cookies</div>
                </div>
                
                <div class="response-content active" id="response-body" data-modal-target="response-modal"></div>
                <div class="response-content" id="response-headers" data-modal-target="response-modal"></div>
                <div class="response-content" id="response-cookies" data-modal-target="response-modal"></div>
            </div>
        </div>
    </div>

    <!-- Response Modal -->
    <div id="response-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2>Response Details</h2>
            <div class="modal-tabs">
                <div class="modal-tab active" data-modal-tab="body">Body</div>
                <div class="modal-tab" data-modal-tab="headers">Headers</div>
                <div class="modal-tab" data-modal-tab="cookies">Cookies</div>
            </div>
            <div class="modal-tab-content active" id="modal-body"></div>
            <div class="modal-tab-content" id="modal-headers"></div>
            <div class="modal-tab-content" id="modal-cookies"></div>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="api.js"></script>
    <script src="ui.js"></script>
    <script src="main.js"></script>
</body>
</html>